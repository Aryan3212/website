---
interface Props {
	src: string
	alt?: string
	height?: string
}

const { src, alt = 'Zoomable image', height = '500px' } = Astro.props
---

<div
	class='pan-zoom-container'
	style={`height: ${height}; overflow: hidden; border: 1px solid #e5e7eb; border-radius: 8px; cursor: grab; position: relative; display: flex; align-items: center; justify-content: center; touch-action: none;`}
>
	<img
		src={src}
		alt={alt}
		class='pan-zoom-img'
		decoding='async'
		loading='lazy'
		draggable='false'
		style='transform-origin: center center; will-change: transform; max-width: 100%; max-height: 100%; object-fit: contain;'
	/>
	<div
		style='position: absolute; bottom: 8px; right: 8px; background: rgba(0,0,0,0.6); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;'
	>
		Scroll to zoom · Drag to pan · Double-click to reset
	</div>
</div>

<script>
	import { setupPanzoomImages } from '../scripts/panzoom-image'

	setupPanzoomImages()
</script>
